#include "Lib/TXLib.h"
struct Objects
{
    int x;
    int y;
};
struct Plan
{
    int x;
    int y;
    HDC pic;
    int N_MEST;
    Objects mesto[10];
};

Plan plans[2];
int N_MEST = 8;
Objects mesto [8];
Objects stol_ychitela [1];

//Рисование столов в режиме разработчика (Да, комменты к функциям нужны)
bool dev_mode(Objects* mesto, bool stat)
{
    if(GetAsyncKeyState(VK_TAB) &&  GetAsyncKeyState(VK_SPACE))
    {
        stat = !stat;
        txSleep(200);
    }

    if (stat == true)
    {
        //Их разве всегда 8???
        for (int nomer = 0; nomer < 8; nomer = nomer + 1)   // телепорт на парту
        {
            txSetFillColor(TX_RED);
            txRectangle (mesto[nomer].x, mesto[nomer].y, mesto[nomer].x + 30, mesto[nomer].y + 30);
            txRectangle (stol_ychitela[0].x, stol_ychitela[0].y, stol_ychitela[0].x + 30, stol_ychitela[0].y + 30);
        }
    }

    return stat;
}

HDC smena_classa(HDC pic, Objects* mesto)
{     //    txRectangle(702, 550, 930, 800);

    txRectangle (734, 305, 833, 433);
    txDrawText (plans[0].x, 1, plans[0].x + 50, 50, "1");
    txRectangle (871, 307, plans[1].x + 50, 50);
    txDrawText (plans[1].x, 1, plans[1].x + 50, 50, "2");

    if (txMouseX() >= plans[0].x &&            txMouseY() >= 1 &&
        txMouseX() <= plans[0].x + 50 &&       txMouseY() <= 50 &&
        txMouseButtons()== 1)
    {
        pic = plans[0].pic;

        N_MEST = plans[0].N_MEST;
        for (int v = 0; v < plans[0].N_MEST; v = v + 1)
        {
            mesto[v] = plans[0].mesto[v];
        }
    }

    if (txMouseX() >= plans[1].x &&            txMouseY() >= 1 &&
        txMouseX() <= plans[1].x + 50 &&       txMouseY() <= 50 &&
        txMouseButtons()== 1)
    {
        pic = plans[1].pic;

        N_MEST = plans[1].N_MEST;
        for (int v = 0; v < plans[1].N_MEST; v = v + 1)
        {
            mesto[v] = plans[1].mesto[v];
        }
    }

    return pic;
}


